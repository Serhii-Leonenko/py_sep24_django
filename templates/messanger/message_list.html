{% extends "base.html" %}

{% block content %}
  <script src="https://unpkg.com/htmx.org"></script>
  <ul class="list-group" id="messages">
    {% for message in page_obj %}
      <li class="list-group-item">{{ message.message }}</li>
    {% endfor %}
  </ul>

  {% if page_obj.has_next %}
    <div
      hx-get="{% url 'message-list' %}?page={{ page_obj.next_page_number }}"
      hx-trigger="revealed"
      hx-swap="beforeend"
      hx-target="#messages"
      id="load-more"
    >
      Loading more messages...
    </div>
  {% endif %}
{% endblock %}
